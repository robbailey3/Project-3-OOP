!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){var i=n(1);"string"==typeof i&&(i=[[e.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,s);i.locals&&(e.exports=i.locals)},function(e,t,n){(t=e.exports=n(2)(!1)).push([e.i,"@import url(https://use.typekit.net/enx5ndn.css);",""]),t.push([e.i,"/* Import a font from Adobe Typekit */\n/* General Element Reset */\n* {\n  margin: 0;\n  padding: 0;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box; }\n\nbody {\n  text-align: center;\n  font-size: 18px;\n  font-family: futura-pt, sans-serif;\n  font-weight: 400;\n  font-style: normal;\n  background: #fafafa; }\n\n/* Generic Modal Elements */\n.modal {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  background: #fff;\n  -webkit-box-shadow: 0 6px 14px 0 rgba(0, 0, 0, 0.7);\n  box-shadow: 0 6px 14px 0 rgba(0, 0, 0, 0.7);\n  padding: 32px;\n  border-radius: 8px;\n  display: none; }\n\n.modal.active {\n  display: block; }\n\n/* Buttons */\n.btn {\n  padding: 10px 15px;\n  font-family: inherit;\n  font-size: 22px;\n  color: #fff;\n  border: none;\n  -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.6);\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.6);\n  background: #ad1457;\n  border-radius: 4px;\n  cursor: pointer;\n  margin: 8px 0; }\n\n.btn:hover {\n  background: #880e4f; }\n\n.btn:focus {\n  border: 2px solid #222222;\n  /* Nice and easy to see focus indicators to improve accessibility*/ }\n\nfieldset {\n  border: none;\n  padding: 20px; }\n\ninput[type='radio'] + label {\n  font-size: 24px;\n  border: 1px solid transparent;\n  border-radius: 10px;\n  -webkit-transition: 0.3s;\n  -o-transition: 0.3s;\n  transition: 0.3s;\n  display: inline-block;\n  cursor: pointer; }\n\n#game-difficulty label {\n  margin: 4px 8px; }\n\n/* Snazzy custom radio buttons */\n#game-difficulty input[type='radio'] {\n  position: absolute;\n  left: -10000px; }\n\n#game-difficulty input[type='radio'] + label {\n  padding-left: 40px;\n  position: relative; }\n\n#game-difficulty input[type='radio'] + label::before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 4px;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  background: #dedede; }\n\n#game-difficulty input[type='radio']:focus + label::before {\n  background: #ccc; }\n\n#game-difficulty input[type='radio']:focus + label {\n  font-weight: bold; }\n\n#game-difficulty input[type='radio']:checked + label::before {\n  background: #14ad6a; }\n\n#game-difficulty input[type='radio']:checked + label::after {\n  position: absolute;\n  top: 9.5px;\n  left: 5px;\n  content: '';\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: #fff; }\n\n#choose-char input[type='radio'] {\n  position: absolute;\n  left: -10000px; }\n\n#choose-char input[type='radio'] + label img {\n  -webkit-transition: 0.2s;\n  -o-transition: 0.2s;\n  transition: 0.2s; }\n\n#choose-char input[type='radio']:focus + label {\n  background: #14ad6a;\n  border: 3px solid #555; }\n\n#choose-char input[type='radio']:checked + label {\n  background: #14ad6a; }\n\n#choose-char input[type='radio']:focus + label img,\n#choose-char input[type='radio']:checked + label img {\n  -webkit-transform: translateY(-10px);\n  -ms-transform: translateY(-10px);\n  transform: translateY(-10px);\n  -webkit-filter: drop-shadow(5px 5px 5px #222222);\n  filter: drop-shadow(5px 5px 5px #222222); }\n\n/* The game stats modal thing */\n#game-stats {\n  position: fixed;\n  bottom: 25px;\n  right: 25px;\n  background: #14ad6a;\n  display: none;\n  text-align: left;\n  padding: 16px;\n  color: #fff;\n  font-size: 24px;\n  border-radius: 8px;\n  box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.7); }\n\n/* New Game Button container */\n#new-game-container {\n  position: fixed;\n  left: 25px;\n  bottom: 25px;\n  padding: 16px;\n  display: none; }\n\n#win-popup {\n  display: none;\n  font-size: 24px; }\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var s=(o=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),r=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(r).concat([s]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},s=0;s<this.length;s++){var r=this[s][0];"number"==typeof r&&(i[r]=!0)}for(s=0;s<e.length;s++){var o=e[s];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){var i,s,r={},o=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=i.apply(this,arguments)),s}),a=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),l=null,c=0,d=[],h=n(4);function u(e,t){for(var n=0;n<e.length;n++){var i=e[n],s=r[i.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](i.parts[o]);for(;o<i.parts.length;o++)s.parts.push(y(i.parts[o],t))}else{var a=[];for(o=0;o<i.parts.length;o++)a.push(y(i.parts[o],t));r[i.id]={id:i.id,refs:1,parts:a}}}}function p(e,t){for(var n=[],i={},s=0;s<e.length;s++){var r=e[s],o=t.base?r[0]+t.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[o]?i[o].parts.push(a):n.push(i[o]={id:o,parts:[a]})}return n}function f(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=a(e.insertAt.before,n);n.insertBefore(t,s)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return n.nc}();i&&(e.attrs.nonce=i)}return b(t,e.attrs),f(e,t),t}function b(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,i,s,r;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var o=c++;n=l||(l=g(t)),i=v.bind(null,n,o,!1),s=v.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),f(e,t),t}(t),i=function(e,t,n){var i=n.css,s=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||r)&&(i=h(i));s&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var o=new Blob([i],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,n,t),s=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),i=function(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),s=function(){m(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else s()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return u(n,t),function(e){for(var i=[],s=0;s<n.length;s++){var o=n[s];(a=r[o.id]).refs--,i.push(a)}e&&u(p(e,t),t);for(s=0;s<i.length;s++){var a;if(0===(a=i[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete r[a.id]}}}};var w,x=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function v(e,t,n,i){var s=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(t,s);else{var r=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var s,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(s=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")})}},function(e,t,n){"use strict";n.r(t);class i{constructor(e,t,n){this.sprite=n,this.x=e,this.y=t,this.speed=50.5,this.numberOfMoves=0,console.log(this)}handleInput(e){this.numberOfMoves++,"left"==e&&this.x-this.speed>0&&(this.x-=this.speed),"up"==e&&this.y-this.speed>0&&(this.y-=this.speed-20),"right"==e&&this.x<window.ctx.canvas.width-101&&(this.x+=this.speed),"down"==e&&this.y<383&&(this.y+=this.speed-20)}update(e){}render(){window.ctx.drawImage(window.resources.get(this.sprite),this.x,this.y)}}class s{constructor(e){this.x=Math.floor(500*Math.random()),this.y=184*Math.random()+50,this.speed=e*Math.floor(100*Math.random()),this.sprite="images/enemy-bug.png"}update(e){this.x+=this.speed*e,this.x>window.ctx.canvas.width&&(this.x=-Math.floor(-100*Math.random()+200),this.y=Math.floor(184*Math.random())+50,this.speed+=2)}render(){window.ctx.drawImage(window.resources.get(this.sprite),this.x,this.y)}}class r{constructor(e,t,n){this.reset(),this.createCanvas(),this.player=e,this.enemies=t,this.game=n}createCanvas(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),window.ctx=this.ctx,this.canvas.width=505,this.canvas.height=606,document.body.appendChild(this.canvas)}main(){let e=Date.now(),t=(e-this.lastTime)/1e3;this.update(t),this.render(),this.lastTime=e,window.requestAnimationFrame(()=>{this.main()})}init(){this.lastTime=Date.now(),this.main()}update(e){this.updateEntities(e),this.player.y<48&&(this.game.handleWin(),this.moveBackToStart()),this.detectCollisions(),this.detectGems()}updateEntities(e){this.enemies.forEach(t=>{t.update(e)}),this.player.update()}render(){const e=["images/water-block.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/grass-block.png","images/grass-block.png"];let t,n;for(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),t=0;t<6;t++)for(n=0;n<5;n++)this.ctx.drawImage(window.resources.get(e[t]),101*n,83*t);this.game.showWinTile&&this.renderWinTile(),this.renderGems(),this.renderEntities()}renderEntities(){this.enemies.forEach(e=>{e.render()}),this.player.render()}renderGems(){this.gems.forEach(e=>{this.ctx.drawImage(window.resources.get(e.image),e.x,e.y)})}renderWinTile(){this.ctx.drawImage(window.resources.get("images/Selector.png"),202.5,383)}detectCollisions(){this.enemies.forEach(e=>{Math.abs(e.x-this.player.x)<30&&Math.abs(e.y-this.player.y)<30&&this.handleCollision()})}detectGems(){this.gems.forEach(e=>{Math.abs(e.x-this.player.x)<30&&Math.abs(e.y-this.player.y)<30&&(this.gems=this.gems.filter(t=>t!==e),this.game.collectedGems++,this.game.updateStats())})}handleCollision(){this.game.handleFail(),this.moveBackToStart()}moveBackToStart(){this.player.x=202.5,this.player.y=383}reset(){Array.from(document.getElementsByTagName("canvas")).forEach(e=>e.parentNode.removeChild(e))}setGems(e){this.gems=e}}class o{startTimer(){this.startTime=new Date}endTimer(){this.endTime=new Date}getCurrentTime(){return Math.floor((new Date-this.startTime)/1e3)}getTimeDifference(){return Math.floor((this.endTime-this.startTime)/1e3)}}class a{constructor(e,t){this.enemies=[],this.level=e,this.player=new i(202.5,383,t),this.timer=new o;for(let e=0;e<this.level.enemies;e++)this.enemies[e]=new s(this.level.speed);this.engine=new r(this.player,this.enemies,this),this.startGame(),this.collectedGems=0,this.wins=0,this.fails=0,this.displayElements={gemNumber:document.getElementById("number-of-gems"),winNumber:document.getElementById("number-of-wins"),failNumber:document.getElementById("number-of-fails")},this.updateStats(),this.showWinTile=!1,this.disableMoves=!1}startGame(){this.createGems(),this.engine.init(),this.timer.startTimer()}createGems(){const e=["images/Gem Blue.png","images/Gem Green.png","images/Gem Orange.png"],t=[...new Array(2)].map(t=>((t={}).y=120*Math.floor(2*Math.random()+1),t.x=101*Math.floor(5*Math.random()),t.image=e[Math.floor(Math.random()*e.length)],t));this.engine.setGems(t),console.log(t)}handleWin(){this.enemies.forEach(e=>{e.speed+=2}),this.wins++,this.updateStats(),this.createGems(),this.timer.endTimer(),this.timeTaken=this.timer.getTimeDifference(),this.showWinPopup(),this.showWinTile=!0,this.player.numberOfMoves=0,this.fails=0}handleFail(){this.showWinTile=!1,this.fails++,this.updateStats()}updateStats(){this.displayElements.gemNumber.innerHTML=this.collectedGems,this.displayElements.winNumber.innerHTML=this.wins,this.displayElements.failNumber.innerHTML=this.fails}showWinPopup(){const e=document.getElementById("number-of-moves"),t=document.getElementById("fail-total"),n=document.getElementById("time-taken"),i=document.getElementById("win-popup");e.innerHTML=this.player.numberOfMoves,t.innerHTML=this.fails,n.innerHTML=this.timeTaken,i.style.display="block",this.disableMoves=!0,setTimeout(()=>{this.disableMoves=!1,i.style.display="none",this.timer.startTimer()},3e3)}}n(0);const l=new class{constructor(){this.resourcesLoaded=!1,this.config={levels:{easy:{speed:1,enemies:4},medium:{speed:2,enemies:5},hard:{speed:3,enemies:6}}}}toggleModal(e){return document.querySelector("#modal-backdrop").classList.toggle("active"),document.querySelector(e).classList.toggle("active"),this}startNewGame(e,t){this.loadResources().then(()=>{this.game=new a(this.config.levels[e],t),this.gameRunning=!0,document.getElementById("new-game-container").style.display="block",this.showStats()}).catch(e=>{console.log(e)})}newGame(){this.toggleModal("#new-game-modal")}handleInput(e){this.game.disableMoves||this.game.player.handleInput(e)}showStats(){document.getElementById("game-stats").style.display="block"}loadResources(){return new Promise((e,t)=>{try{console.log(this.resourcesLoaded),!0===this.resourcesLoaded&&e(!0),window.resources.load(["images/stone-block.png","images/water-block.png","images/grass-block.png","images/enemy-bug.png","images/char-boy.png","images/char-horn-girl.png","images/char-cat-girl.png","images/char-pink-girl.png","images/char-princess-girl.png","images/Gem Blue.png","images/Gem Green.png","images/Gem Orange.png","images/Selector.png"]),window.resources.onReady(()=>{this.resourcesLoaded=!0,e(!0)})}catch(e){t(e)}})}};window.resources=new class{constructor(){this.resourceCache={},this.callbacks=[]}load(e){e instanceof Array?e.forEach(e=>{this._load(e)}):_load(e)}_load(e){if(this.resourceCache[e])return this.resourceCache[e];{let t=new Image;t.onload=(()=>{this.resourceCache[e]=t,this.isReady()&&this.callbacks.forEach(e=>{e()})}),this.resourceCache[e]=!1,t.src=e}}get(e){return this.resourceCache[e]}isReady(){let e=!0;for(var t in this.resourceCache)this.resourceCache.hasOwnProperty(t)&&!this.resourceCache[t]&&(e=!1);return e}onReady(e){this.callbacks.push(e)}},document.querySelector("#start-game-btn").addEventListener("click",()=>{l.toggleModal("#new-game-modal"),l.startNewGame(document.querySelector('input[name="start-diff"]:checked').value,document.querySelector('input[name="start-char"]:checked').value)}),document.getElementById("new-game").addEventListener("click",()=>{l.gameRunning=!1,l.newGame()}),document.addEventListener("keyup",e=>{let t={37:"left",38:"up",39:"right",40:"down"};l.gameRunning&&l.handleInput(t[e.keyCode])})}]);